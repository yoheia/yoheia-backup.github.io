

### はじめに
- OS を学ぶ理由（もしOSがなかったら？）
- OS の歴史（現在のOSの概念の大半は1960年代に完成された）
- 性能問題は交通渋滞と同じ（現実世界で使っている考え方をコンピュータ世界に当てはめるだけ！）
	- USE メソッドでボトルネックを特定する
	- ボトルネックを特定したらドリルダウン
- コンビニのレジの行列と性能問題は同じ
	- 待ち行列理論
	- レスポンスタイムカーブ
- CPU、メモリ、ディスクの応答時間はこんなに違う

### 基礎を理解する
- CPU
	- CPU の仕組み
		- ハードウェアから見たCPU
			- UMA と NUMA
			- ソケット／コア／スレッド
			- レジスタ／L1-3キャッシュ
		- ソフトウェアから見たCPU
			- マルチプロセスとマルチスレッド
			- プロセススケジューラとランキュー
			- プロセスの優先度とクラス
	- CPUネックか分析する
		- CPU使用率の見方
			- システム全体のCPU使用率
			- 論理CPU別のCPU使用率
		- ランキューでサチり具合を見る
	- CPUネックの原因をドリルダウン分析する
		- ユーザー／カーネルモード別にドリルダウンする
		- プロセス別にドリルダウンする
	- ケーススタディ
		- CPUを消費しているプロセスを特定する
		- CPUを消費している割込みを特定する
		- Flame Graphs で CPU を消費しているカーネルの関数を特定する
- メモリ
	- メモリの仕組み
		- 仮想記憶の仕組み
		- ページング
		- UMA／NUMA
		- ページ回収の仕組み
	- メモリが枯渇していないか分析する
		- 真のメモリ使用率の見方
		- ページイン／ページアウトの頻度を確認する
		- OOM Killer、メモリアロケーションエラーの有無を確認する
	- メモリ使用量の内訳を分析する
		- メモリ使用量の多いプロセスを調べる
		- カーネル内でメモリ使用量の多い領域を調べる
	- ケーススタディ
		- メモリ使用量の多いプロセスを特定する
		- カーネル内のメモリ使用量の多い領域を特定する

- ストレージ
	- 



- ファイルシステムの仕組み

### 健康診断する
- CPU
	- CPU使用率
	- 論理CPU別の使用率
	- ランキュー数
- メモリ
	- メモリ使用率
	- ページング発生状況
- ストレージ
	- I/Oレスポンス
	- デバイスでの処理時間
	- BUSY率
- ファイルシステム
	
- ネットワーク
	

### 問題解決編
- CPU使用率が高い
	- user、system のどちらが高いか
	- 特定のプロセスがCPUを消費していないか
	- 特定のシステムコール／割込みあCPUを消費していないか
- メモリ使用率が高い
	- メモリ使用量の多いプロセスはないか
	- OSカーネルでメモリ使用量の多い領域はないか
- I/Oが遅い
	- システムコールの応答時間を調べる
	- カーネルのブロックレイヤーでの所要時間を調べる
	- ボトルネックとなっているカーネル内の関数を特定する
- ネットワークが遅い
	- レイテンシ・スループットのどちらの問題か切り分ける
- アプリケーションが遅い
	- 時間の内訳を調べる

### コラム
- CPU使用率はどのように算出されるか